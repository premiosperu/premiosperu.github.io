<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aje Per√∫ - Delivery Gratis</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            color: #333;
            background: #f8f8f8;
        }

        .top-banner {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
            color: white;
            text-align: center;
            padding: 12px;
            font-weight: 600;
            font-size: 14px;
        }

        .header-info {
            background: #fff;
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #eee;
            flex-wrap: wrap;
            gap: 10px;
        }

        .header-info .contact {
            display: flex;
            gap: 20px;
            font-size: 13px;
            color: #666;
        }

        .main-header {
            background: white;
            padding: 15px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .logo {
            height: 50px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 24px;
            font-weight: bold;
            color: #e74c3c;
            cursor: pointer;
        }

        .search-bar {
            flex: 1;
            max-width: 500px;
            margin: 0 30px;
            position: relative;
        }

        .search-bar input {
            width: 100%;
            padding: 12px 45px 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 14px;
            transition: all 0.3s;
        }

        .search-bar input:focus {
            outline: none;
            border-color: #e74c3c;
        }

        .search-icon {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 18px;
            color: #999;
        }

        .nav-menu {
            display: flex;
            gap: 30px;
            align-items: center;
        }

        .nav-menu a {
            text-decoration: none;
            color: #333;
            font-weight: 500;
            transition: color 0.3s;
        }

        .cart-icon {
            position: relative;
            cursor: pointer;
            font-size: 24px;
            transition: transform 0.3s;
        }

        .cart-icon:hover {
            transform: scale(1.1);
        }

        .cart-count {
            background: #e74c3c;
            color: white;
            border-radius: 50%;
            min-width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            position: absolute;
            top: -8px;
            right: -8px;
            padding: 0 5px;
        }

        .categories-bar {
            background: white;
            padding: 15px 40px;
            display: flex;
            gap: 25px;
            overflow-x: auto;
            border-bottom: 1px solid #eee;
        }

        .categories-bar a {
            text-decoration: none;
            color: #555;
            white-space: nowrap;
            font-size: 14px;
            padding: 8px 15px;
            border-radius: 20px;
            transition: all 0.3s;
            cursor: pointer;
        }

        .categories-bar a:hover,
        .categories-bar a.active {
            background: #fee;
            color: #e74c3c;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 30px 20px;
        }

        .filters-section {
            background: white;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }

        .filter-group {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .filter-group label {
            font-weight: 500;
            font-size: 14px;
        }

        .filter-group select {
            padding: 8px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
        }

        .clear-filters {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }

        .clear-filters:hover {
            background: #c0392b;
        }

        .section-title {
            font-size: 28px;
            margin-bottom: 25px;
            color: #333;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .results-count {
            font-size: 16px;
            color: #666;
            font-weight: normal;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 25px;
            margin-bottom: 50px;
        }

        .product-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
            position: relative;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }

        .product-image {
            width: 100%;
            height: 250px;
            object-fit: contain;
            background: #fafafa;
            padding: 20px;
        }

        .product-info {
            padding: 15px;
        }

        .product-brand {
            color: #999;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .product-name {
            font-size: 16px;
            font-weight: 600;
            margin: 8px 0;
            color: #333;
            line-height: 1.4;
        }

        .product-description {
            font-size: 13px;
            color: #777;
            margin: 5px 0;
        }

        .product-prices {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 12px;
        }

        .old-price {
            text-decoration: line-through;
            color: #999;
            font-size: 14px;
        }

        .current-price {
            color: #e74c3c;
            font-size: 22px;
            font-weight: bold;
        }

        .discount-badge {
            position: absolute;
            top: 15px;
            left: 15px;
            background: #e74c3c;
            color: white;
            padding: 5px 10px;
            border-radius: 6px;
            font-size: 13px;
            font-weight: bold;
        }

        .rating {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(255,255,255,0.95);
            padding: 5px 10px;
            border-radius: 6px;
            font-size: 13px;
            font-weight: bold;
            color: #f39c12;
        }

        .add-to-cart-btn {
            width: 100%;
            padding: 10px;
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 10px;
            transition: all 0.3s;
        }

        .add-to-cart-btn:hover {
            background: #c0392b;
        }

        .add-to-cart-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .out-of-stock-badge {
            background: rgba(0,0,0,0.7);
            color: white;
            padding: 5px 10px;
            text-align: center;
            font-size: 12px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            border-radius: 6px;
            font-weight: bold;
        }

        /* Cart Sidebar */
        .cart-sidebar {
            position: fixed;
            right: -400px;
            top: 0;
            width: 400px;
            height: 100vh;
            background: white;
            box-shadow: -2px 0 10px rgba(0,0,0,0.2);
            transition: right 0.3s;
            z-index: 1000;
            display: flex;
            flex-direction: column;
        }

        .cart-sidebar.open {
            right: 0;
        }

        .cart-header {
            padding: 20px;
            border-bottom: 2px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .cart-header h2 {
            font-size: 22px;
        }

        .close-cart {
            background: none;
            border: none;
            font-size: 28px;
            cursor: pointer;
            color: #666;
        }

        .cart-items {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }

        .cart-item {
            display: flex;
            gap: 15px;
            padding: 15px 0;
            border-bottom: 1px solid #eee;
        }

        .cart-item-image {
            width: 80px;
            height: 80px;
            object-fit: contain;
            background: #fafafa;
            border-radius: 8px;
            padding: 5px;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-name {
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 5px;
        }

        .cart-item-price {
            color: #e74c3c;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .quantity-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .quantity-btn {
            width: 30px;
            height: 30px;
            border: 1px solid #ddd;
            background: white;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
        }

        .quantity-btn:hover {
            background: #f0f0f0;
        }

        .quantity {
            font-weight: 600;
            min-width: 30px;
            text-align: center;
        }

        .remove-item {
            background: none;
            border: none;
            color: #e74c3c;
            cursor: pointer;
            font-size: 20px;
        }

        .cart-footer {
            padding: 20px;
            border-top: 2px solid #eee;
        }

        .cart-total {
            display: flex;
            justify-content: space-between;
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .checkout-btn {
            width: 100%;
            padding: 15px;
            background: #27ae60;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .checkout-btn:hover {
            background: #229954;
        }

        .checkout-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .empty-cart {
            text-align: center;
            padding: 50px 20px;
            color: #999;
        }

        .empty-cart-icon {
            font-size: 80px;
            margin-bottom: 20px;
        }

        .cart-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            display: none;
            z-index: 999;
        }

        .cart-overlay.show {
            display: block;
        }

        .no-results {
            text-align: center;
            padding: 50px;
            color: #999;
            font-size: 18px;
        }

        footer {
            background: #2c3e50;
            color: white;
            padding: 40px 20px 20px;
            margin-top: 50px;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }

        .footer-section h3 {
            font-size: 16px;
            margin-bottom: 15px;
        }

        .footer-section a {
            color: #bdc3c7;
            text-decoration: none;
            display: block;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .footer-bottom {
            border-top: 1px solid #34495e;
            padding-top: 20px;
            text-align: center;
            color: #95a5a6;
            font-size: 13px;
        }

        @media (max-width: 768px) {
            .main-header {
                padding: 15px 20px;
                flex-wrap: wrap;
            }

            .search-bar {
                order: 3;
                width: 100%;
                margin: 15px 0 0 0;
                max-width: 100%;
            }

            .categories-bar {
                padding: 10px 20px;
            }

            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
                gap: 15px;
            }

            .cart-sidebar {
                width: 100%;
                right: -100%;
            }

            .filters-section {
                flex-direction: column;
                align-items: stretch;
            }
        }
    </style>
</head>
<body>
    <div class="top-banner">
        ¬°Aprovecha! Delivery gratis a partir de S/30.
    </div>

    <div class="header-info">
        <div class="contact">
            <span>üìß ajedelivery.pe@babelsac.pe</span>
            <span>üìû 01 0800-10330</span>
        </div>
        <div class="social">
            S√≠guenos en redes sociales
        </div>
    </div>

    <header class="main-header">
        <div class="logo" onclick="app.resetFilters()">
            <span style="color: #e74c3c;">üçπ</span> Aje Per√∫
        </div>
        <div class="search-bar">
            <input type="text" id="searchInput" placeholder="Buscar productos...">
            <span class="search-icon">üîç</span>
        </div>
        <nav class="nav-menu">
            <a href="#cobertura">Cobertura</a>
            <div class="cart-icon" onclick="app.toggleCart()">
                üõí
                <span class="cart-count" id="cartCount">0</span>
            </div>
        </nav>
    </header>

    <div class="categories-bar" id="categoriesBar"></div>

    <div class="container">
        <div class="filters-section">
            <div class="filter-group">
                <label>Ordenar por:</label>
                <select id="sortSelect">
                    <option value="featured">Destacados</option>
                    <option value="price-asc">Precio: Menor a Mayor</option>
                    <option value="price-desc">Precio: Mayor a Menor</option>
                    <option value="discount">Mayor Descuento</option>
                    <option value="rating">Mejor Valorados</option>
                </select>
            </div>
            <div class="filter-group">
                <label>Precio:</label>
                <select id="priceFilter">
                    <option value="all">Todos</option>
                    <option value="0-15">S/ 0 - S/ 15</option>
                    <option value="15-25">S/ 15 - S/ 25</option>
                    <option value="25-40">S/ 25 - S/ 40</option>
                    <option value="40+">S/ 40+</option>
                </select>
            </div>
            <button class="clear-filters" onclick="app.resetFilters()">
                Limpiar Filtros
            </button>
        </div>

        <h2 class="section-title">
            <span id="sectionTitle">Productos destacados</span>
            <span class="results-count" id="resultsCount"></span>
        </h2>
        <div class="products-grid" id="productsGrid"></div>
    </div>

    <div class="cart-overlay" id="cartOverlay" onclick="app.toggleCart()"></div>
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h2>Mi Carrito</h2>
            <button class="close-cart" onclick="app.toggleCart()">√ó</button>
        </div>
        <div class="cart-items" id="cartItems"></div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>Total:</span>
                <span id="cartTotal">S/ 0.00</span>
            </div>
            <button class="checkout-btn" id="checkoutBtn" onclick="app.checkout()">
                Proceder al Pago
            </button>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>Comercializadora Babel S.A.C.</h3>
                <p style="color: #bdc3c7; font-size: 14px; line-height: 1.6;">
                    RUC: 20607916749<br>
                    Av. la Paz N¬∞ 131. C.P. Santa Mar√≠a de Huachipa<br>
                    Distrito de Lurigancho, Lima
                </p>
            </div>
            <div class="footer-section">
                <h3>Acerca de</h3>
                <a href="#">T√©rminos y Condiciones</a>
                <a href="#">Pol√≠ticas y Privacidad</a>
                <a href="#">Preguntas frecuentes</a>
            </div>
            <div class="footer-section">
                <h3>Medios de Pago</h3>
                <p style="color: #bdc3c7;">üí≥ Visa, Mastercard</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>Powered by Riqra</p>
        </div>
    </footer>

    <script>
        const app = {
            products: [
                {
                    id: 1,
                    name: "Agua Cielo Sin Gas 20L",
                    brand: "Cielo",
                    category: "aguas",
                    description: "1 Caja de 20L",
                    price: 22.90,
                    oldPrice: 25.00,
                    image: "https://res.cloudinary.com/riqra/image/upload/h_380,c_limit,q_auto,f_auto/v1683559926/sellers/aje-peru/products/qpe8scrjhqwuem0ntkv5.png",
                    rating: 4.67,
                    stock: 50
                },
                {
                    id: 2,
                    name: "Agua Cielo Sin Gas 625ml",
                    brand: "Cielo",
                    category: "aguas",
                    description: "Paquete de 15 Unidades de 625ml PET",
                    price: 12.90,
                    oldPrice: 15.00,
                    image: "https://res.cloudinary.com/riqra/image/upload/h_380,c_limit,q_auto,f_auto/v1683559844/sellers/aje-peru/products/yrw8pp4j2fwdis4dztrd.png",
                    stock: 100
                },
                {
                    id: 3,
                    name: "Agua Cielo Sin Gas 2.5L",
                    brand: "Cielo",
                    category: "aguas",
                    description: "Paquete de 6 Unidades de 2.5L PET",
                    price: 13.90,
                    oldPrice: 18.00,
                    image: "https://res.cloudinary.com/riqra/image/upload/h_380,c_limit,q_auto,f_auto/v1683559879/sellers/aje-peru/products/qhn7ax5wdrhshdi2wnhx.png",
                    stock: 75
                },
                {
                    id: 4,
                    name: "Agua Cielo Sin Gas 7L",
                    brand: "Cielo",
                    category: "aguas",
                    description: "2 Unidades de 7L PET",
                    price: 13.50,
                    oldPrice: 16.00,
                    image: "https://res.cloudinary.com/riqra/image/upload/h_380,c_limit,q_auto,f_auto/v1683562311/sellers/aje-peru/products/jacwlzf63jfx7lytzly9.png",
                    stock: 60
                },
                {
                    id: 5,
                    name: "Sporade sabor Tropical 500ml",
                    brand: "Sporade",
                    category: "saludable",
                    description: "Paquete de 12 Unidades de 500ml",
                    price: 21.90,
                    oldPrice: 24.00,
                    image: "https://res.cloudinary.com/riqra/image/upload/h_380,c_limit,q_auto,f_auto/v1585344675/sellers/aje-peru/productos_sporade_500ML_tropical_12pack.png",
                    rating: 5,
                    stock: 40
                },
                {
                    id: 6,
                    name: "Agua Cielo Alcalina Sin Gas 650ml",
                    brand: "Cielo",
                    category: "saludable",
                    description: "1 Paquete de 12 unidades",
                    price: 16.50,
                    oldPrice: 18.00,
                    image: "https://res.cloudinary.com/riqra/image/upload/h_380,c_limit,q_auto,f_auto/v1735326048/sellers/aje-peru/products/l4842g796rghg18enbnt.jpg",
                    rating: 5,
                    stock: 80
                },
                {
                    id: 7,
                    name: "Agua Cielo Sin Gas 1L",
                    brand: "Cielo",
                    category: "aguas",
                    description: "Paquete de 6 Unidades de 1L PET",
                    price: 12.00,
                    oldPrice: 13.00,
                    image: "https://res.cloudinary.com/riqra/image/upload/h_380,c_limit,q_auto,f_auto/v1683559862/sellers/aje-peru/products/kcvlbh1ifza9dcby3emu.png",
                    stock: 90
                },
                {
                    id: 8,
                    name: "12 pack Sporade Surtido",
                    brand: "Sporade",
                    category: "saludable",
                    description: "Paquete de 12 unidades de Sporade Surtidos",
                    price: 19.90,
                    oldPrice: 24.00,
                    image: "https://res.cloudinary.com/riqra/image/upload/h_380,c_limit,q_auto,f_auto/v1705341828/sellers/aje-peru/products/emfat2fbr5og5cwa4hnm.jpg",
                    stock: 55
                },
                {
                    id: 9,
                    name: "Cerveza Tres Cruces Lager Lata 473 ml",
                    brand: "Tres Cruces",
                    category: "cervezas",
                    description: "Sixpack Tres Cruces Lager Cerveza Regular 473 ml",
                    price: 20.00,
                    oldPrice: 24.00,
                    image: "https://res.cloudinary.com/riqra/image/upload/h_380,c_limit,q_auto,f_auto/v1647024589/sellers/aje-peru/products/awsh2rogr96tesvvsc3m.png",
                    stock: 120
                },
                {
                    id: 10,
                    name: "D'Gussto cereal aritos colores bolsa 18g",
                    brand: "D'Gussto",
                    category: "snacks",
                    description: "12 Unidades",
                    price: 5.00,
                    image: "https://res.cloudinary.com/riqra/image/upload/h_380,c_limit,q_auto,f_auto/v1732037309/sellers/aje-peru/products/u8ybryprjxnj9qqm0nns.jpg",
                    stock: 0
                },
                {
                    id: 11,
                    name: "Amayu Gajos Frutos Rojos 500 ml",
                    brand: "Amayu",
                    category: "saludable",
                    description: "12 Unidades",
                    price: 33.90,
                    oldPrice: 38.00,
                    image: "https://res.cloudinary.com/riqra/image/upload/h_380,c_limit,q_auto,f_auto/v1755546095/sellers/aje-peru/products/ahvwibb0jhyoczo9eexq.jpg",
                    stock: 30
                },
                {
                    id: 12,
                    name: "Amayu Gajos Uva 500 ml",
                    brand: "Amayu",
                    category: "saludable",
                    description: "12 Unidades",
                    price: 33.90,
                    oldPrice: 38.00,
                    image: "https://res.cloudinary.com/riqra/image/upload/h_380,c_limit,q_auto,f_auto/v1755546109/sellers/aje-peru/products/thjtat4jsxax2udy3nhk.jpg",
                    stock: 25
                },
                {
                    id: 13,
                    name: "VOLT ENERGY FANS 473 ML",
                    brand: "Volt",
                    category: "saludable",
                    description: "Paquete de 6 unidades",
                    price: 24.00,
                    oldPrice: 25.00,
                    image: "https://res.cloudinary.com/riqra/image/upload/h_380,c_limit,q_auto,f_auto/v1766066378/sellers/aje-peru/products/yd44ul7tfhdqwjvlhkun.jpg",
                    stock: 45
                },
                {
                    id: 14,
                    name: "Agua Cielo Con Gas 625ml",
                    brand: "Cielo",
                    category: "aguas",
                    description: "Paquete de 15 Unidades de 625ml PET",
                    price: 12.90,
                    oldPrice: 15.00,
                    image: "https://res.cloudinary.com/riqra/image/upload/h_380,c_limit,q_auto,f_auto/v1643236337/sellers/aje-peru/products/cnwkvgkrds9pxeb8jjm2.jpg",
                    stock: 95
                },
                {
                    id: 15,
                    name: "Volt Ginseng 300ml",
                    brand: "Volt",
                    category: "saludable",
                    description: "Paquete de 12 Unidades de 300ml",
                    price: 21.90,
                    oldPrice: 24.00,
                    image: "https://res.cloudinary.com/riqra/image/upload/h_380,c_limit,q_auto,f_auto/v1645218318/sellers/aje-peru/products/n1ovc038zavvyejh2d60.png",
                    stock: 70
                },
                {
                    id: 16,
                    name: "Sporade Tropical 1.5L",
                    brand: "Sporade",
                    category: "saludable",
                    description: "Paquete de 6 unidades de 1.5L",
                    price: 24.90,
                    oldPrice: 33.00,
                    image: "https://res.cloudinary.com/riqra/image/upload/h_380,c_limit,q_auto,f_auto/v1660066967/sellers/aje-peru/products/tsnimdyopfmvjey6rklp.jpg",
                    stock: 40
                },
                {
                    id: 17,
                    name: "Bio Aloe sabor Uva 500ml",
                    brand: "Bio Aloe",
                    category: "saludable",
                    description: "Paquete de 12 Unidades de 500ml PET",
                    price: 36.00,
                    image: "https://res.cloudinary.com/riqra/image/upload/h_380,c_limit,q_auto,f_auto/v1673022724/sellers/aje-peru/products/rdbt6mgypggxjhusope1.jpg",
                    stock: 35
                }
            ],
            
            cart: [],
            currentCategory: 'all',
            currentSearch: '',
            currentSort: 'featured',
            currentPriceFilter: 'all',

            categories: [
                { id: 'all', name: 'Todos' },
                { id: 'promociones', name: 'Promociones' },
                { id: 'saludable', name: 'Mundo Saludable' },
                { id: 'aguas', name: 'Aguas y Gaseosas' },
                { id: 'cervezas', name: 'Cervezas y Licores' },
                { id: 'snacks', name: 'Snacks y Cereales' }
            ],

            init() {
                this.renderCategories();
                this.renderProducts();
                this.setupEventListeners();
                this.updateCartCount();
            },

            setupEventListeners() {
                document.getElementById('searchInput').addEventListener('input', (e) => {
                    this.currentSearch = e.target.value.toLowerCase();
                    this.renderProducts();
                });

                document.getElementById('sortSelect').addEventListener('change', (e) => {
                    this.currentSort = e.target.value;
                    this.renderProducts();
                });

                document.getElementById('priceFilter').addEventListener('change', (e) => {
                    this.currentPriceFilter = e.target.value;
                    this.renderProducts();
                });
            },

            renderCategories() {
                const bar = document.getElementById('categoriesBar');
                bar.innerHTML = this.categories.map(cat => 
                    `<a class="${this.currentCategory === cat.id ? 'active' : ''}" 
                        onclick="app.filterByCategory('${cat.id}')">${cat.name}</a>`
                ).join('');
            },

            filterByCategory(categoryId) {
                this.currentCategory = categoryId;
                this.renderCategories();
                this.renderProducts();
                
                const title = this.categories.find(c => c.id === categoryId)?.name || 'Productos';
                document.getElementById('sectionTitle').textContent = title;
            },

            getFilteredProducts() {
                let filtered = [...this.products];

                // Filtro por categor√≠a
                if (this.currentCategory !== 'all') {
                    if (this.currentCategory === 'promociones') {
                        filtered = filtered.filter(p => p.oldPrice);
                    } else {
                        filtered = filtered.filter(p => p.category === this.currentCategory);
                    }
                }

                // Filtro por b√∫squeda
                if (this.currentSearch) {
                    filtered = filtered.filter(p => 
                        p.name.toLowerCase().includes(this.currentSearch) ||
                        p.brand.toLowerCase().includes(this.currentSearch) ||
                        p.description.toLowerCase().includes(this.currentSearch)
                    );
                }

                // Filtro por precio
                if (this.currentPriceFilter !== 'all') {
                    const [min, max] = this.currentPriceFilter.split('-').map(v => 
                        v === '40+' ? [40, Infinity] : parseFloat(v)
                    );
                    if (this.currentPriceFilter === '40+') {
                        filtered = filtered.filter(p => p.price >= 40);
                    } else {
                        filtered = filtered.filter(p => p.price >= min && p.price < max);
                    }
                }

                // Ordenamiento
                switch (this.currentSort) {
                    case 'price-asc':
                        filtered.sort((a, b) => a.price - b.price);
                        break;
                    case 'price-desc':
                        filtered.sort((a, b) => b.price - a.price);
                        break;
                    case 'discount':
                        filtered.sort((a, b) => {
                            const discA = a.oldPrice ? ((a.oldPrice - a.price) / a.oldPrice) : 0;
                            const discB = b.oldPrice ? ((b.oldPrice - b.price) / b.oldPrice) : 0;
                            return discB - discA;
                        });
                        break;
                    case 'rating':
                        filtered.sort((a, b) => (b.rating || 0) - (a.rating || 0));
                        break;
                }

                return filtered;
            },

            renderProducts() {
                const filtered = this.getFilteredProducts();
                const grid = document.getElementById('productsGrid');
                
                document.getElementById('resultsCount').textContent = 
                    `${filtered.length} producto${filtered.length !== 1 ? 's' : ''}`;

                if (filtered.length === 0) {
                    grid.innerHTML = '<div class="no-results">No se encontraron productos üòî</div>';
                    return;
                }

                grid.innerHTML = filtered.map(product => {
                    const discount = product.oldPrice ? 
                        Math.round(((product.oldPrice - product.price) / product.oldPrice) * 100) : 0;
                    
                    return `
                        <div class="product-card">
                            ${discount > 0 ? `<div class="discount-badge">-${discount}%</div>` : ''}
                            ${product.rating ? `<div class="rating">‚≠ê ${product.rating}</div>` : ''}
                            ${product.stock === 0 ? '<div class="out-of-stock-badge">Agotado</div>' : ''}
                            <img src="${product.image}" alt="${product.name}" class="product-image">
                            <div class="product-info">
                                ${product.brand ? `<div class="product-brand">${product.brand}</div>` : ''}
                                <div class="product-name">${product.name}</div>
                                <div class="product-description">${product.description}</div>
                                <div class="product-prices">
                                    ${product.oldPrice ? `<span class="old-price">S/ ${product.oldPrice.toFixed(2)}</span>` : ''}
                                    <span class="current-price">S/ ${product.price.toFixed(2)}</span>
                                </div>
                                <button class="add-to-cart-btn" 
                                    ${product.stock === 0 ? 'disabled' : ''}
                                    onclick="app.addToCart(${product.id})">
                                    ${product.stock === 0 ? 'Sin Stock' : 'Agregar al Carrito'}
                                </button>
                            </div>
                        </div>
                    `;
                }).join('');
            },

            addToCart(productId) {
                const product = this.products.find(p => p.id === productId);
                if (!product || product.stock === 0) return;

                const cartItem = this.cart.find(item => item.id === productId);
                
                if (cartItem) {
                    if (cartItem.quantity < product.stock) {
                        cartItem.quantity++;
                    } else {
                        alert('No hay m√°s stock disponible');
                        return;
                    }
                } else {
                    this.cart.push({ ...product, quantity: 1 });
                }

                this.updateCart();
                this.showCartNotification();
            },

            removeFromCart(productId) {
                this.cart = this.cart.filter(item => item.id !== productId);
                this.updateCart();
            },

            updateQuantity(productId, change) {
                const cartItem = this.cart.find(item => item.id === productId);
                if (!cartItem) return;

                const product = this.products.find(p => p.id === productId);
                const newQuantity = cartItem.quantity + change;

                if (newQuantity <= 0) {
                    this.removeFromCart(productId);
                } else if (newQuantity <= product.stock) {
                    cartItem.quantity = newQuantity;
                    this.updateCart();
                } else {
                    alert('No hay m√°s stock disponible');
                }
            },

            updateCart() {
                this.updateCartCount();
                this.renderCart();
            },

            updateCartCount() {
                const totalItems = this.cart.reduce((sum, item) => sum + item.quantity, 0);
                document.getElementById('cartCount').textContent = totalItems;
            },

            renderCart() {
                const cartItems = document.getElementById('cartItems');
                const cartTotal = document.getElementById('cartTotal');
                const checkoutBtn = document.getElementById('checkoutBtn');

                if (this.cart.length === 0) {
                    cartItems.innerHTML = `
                        <div class="empty-cart">
                            <div class="empty-cart-icon">üõí</div>
                            <p>Tu carrito est√° vac√≠o</p>
                            <p style="font-size: 14px; margin-top: 10px;">¬°Agrega productos para comenzar!</p>
                        </div>
                    `;
                    cartTotal.textContent = 'S/ 0.00';
                    checkoutBtn.disabled = true;
                    return;
                }

                const total = this.cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);

                cartItems.innerHTML = this.cart.map(item => `
                    <div class="cart-item">
                        <img src="${item.image}" alt="${item.name}" class="cart-item-image">
                        <div class="cart-item-info">
                            <div class="cart-item-name">${item.name}</div>
                            <div class="cart-item-price">S/ ${item.price.toFixed(2)}</div>
                            <div class="quantity-controls">
                                <button class="quantity-btn" onclick="app.updateQuantity(${item.id}, -1)">-</button>
                                <span class="quantity">${item.quantity}</span>
                                <button class="quantity-btn" onclick="app.updateQuantity(${item.id}, 1)">+</button>
                                <button class="remove-item" onclick="app.removeFromCart(${item.id})" title="Eliminar">üóëÔ∏è</button>
                            </div>
                        </div>
                    </div>
                `).join('');

                cartTotal.textContent = `S/ ${total.toFixed(2)}`;
                checkoutBtn.disabled = false;
            },

            toggleCart() {
                const sidebar = document.getElementById('cartSidebar');
                const overlay = document.getElementById('cartOverlay');
                
                sidebar.classList.toggle('open');
                overlay.classList.toggle('show');
            },

            showCartNotification() {
                const icon = document.querySelector('.cart-icon');
                icon.style.transform = 'scale(1.3)';
                setTimeout(() => {
                    icon.style.transform = '';
                }, 300);
            },

            checkout() {
                if (this.cart.length === 0) return;

                const total = this.cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                const itemCount = this.cart.reduce((sum, item) => sum + item.quantity, 0);

                alert(`üéâ ¬°Gracias por tu compra!\n\nTotal de productos: ${itemCount}\nTotal a pagar: S/ ${total.toFixed(2)}\n\n${total >= 30 ? '‚úÖ ¬°Delivery GRATIS!' : 'üöö Costo de delivery: S/ 5.00'}`);
                
                this.cart = [];
                this.updateCart();
                this.toggleCart();
            },

            resetFilters() {
                this.currentCategory = 'all';
                this.currentSearch = '';
                this.currentSort = 'featured';
                this.currentPriceFilter = 'all';
                
                document.getElementById('searchInput').value = '';
                document.getElementById('sortSelect').value = 'featured';
                document.getElementById('priceFilter').value = 'all';
                document.getElementById('sectionTitle').textContent = 'Productos destacados';
                
                this.renderCategories();
                this.renderProducts();
            }
        };

        // Inicializar la aplicaci√≥n
        document.addEventListener('DOMContentLoaded', () => {
            app.init();
        });
    </script>
</body>
</html>
